<div class="scaffold">
    <div class="main-bar">
        <button class="icon-button opens-dialog" id="quit-button" title="Quit..." onclick="toggleDialog('quit-dialog');">
            <span class="material-symbols-outlined">power_settings_circle</span>
        </button>
        <h1 id="title"></h1>
        <div id="push-right"></div>
        <button class="icon-button opens-dialog" id="netmon-button" title="Network Monitor" onclick="toggleDialog('netmon-dialog');">
            <span class="material-symbols-outlined">vital_signs</span>
        </button>
        <button class="icon-button" id="blackout-button" title="Toggle blackout" onclick="show?.toggleBlackout();">
            <span class="material-symbols-outlined">dark_mode</span>
        </button>
    </div>

    <div class="cue-table">
        <div class="row header">
            <div class="cell goto-button"></div>
            <div class="cell select-checkbox">
                <label class="checkbox"><input type="checkbox"><span></span></label>
            </div>
            <div class="cell cue-id"><p>ID</p></div>
            <div class="cell description"><p>Description</p></div>
            <div class="cell notes"><p>Notes</p></div>
            <div class="cell edit-button">
                <button class="icon-button opens-dialog" onclick="show?.addCue(); toggleDialog('configure-cue-dialog');">
                    <span class="material-symbols-outlined">add</span>
                </button>
            </div>
        </div>
    </div>

    <div class="dialog closed" id="configure-cue-dialog">
        <h1>Configure cue...</h1>
        <input type="text" placeholder="Description" id="configured-cue-description">
        <input type="text" placeholder="Notes" id="configured-cue-notes">

        <div class="command-list"></div>

        <button class="text-button" onclick="toggleDialog('add-command-dialog');">Add Command</button>

        <div class="button-row">
            <button class="text-button" onclick="closeDialog('configure-cue-dialog');">Cancel</button>
            <button class="text-button" onclick="show?.deleteCue(); closeDialog('configure-cue-dialog');">Delete</button>
            <button class="text-button primary" onclick="show?.applyCueConfiguration(); closeDialog('configure-cue-dialog');">Configure</button>
        </div>
    </div>

    <div class="dialog closed" id="add-command-dialog">
        <h1>Add command...</h1>

        <div class="subsystem-tab-bar">
            <input type="radio" id="radio-mixer-tab" name="subsystem-tab" checked />
            <label class="subsystem-tab" for="radio-mixer-tab"><h5>Mixer</h5></label>
            <input type="radio" id="radio-lights-tab" name="subsystem-tab" />
            <label class="subsystem-tab" for="radio-lights-tab"><h5>Lights</h5></label>
            <input type="radio" id="radio-spotlight-tab" name="subsystem-tab" />
            <label class="subsystem-tab" for="radio-spotlight-tab"><h5>Spotlight</h5></label>
            <input type="radio" id="radio-audio-tab" name="subsystem-tab" />
            <label class="subsystem-tab" for="radio-audio-tab"><h5>Audio</h5></label>
            <input type="radio" id="radio-scenery-tab" name="subsystem-tab" />
            <label class="subsystem-tab" for="radio-scenery-tab"><h5>Scenery</h5></label>
            <input type="radio" id="radio-misc-tab" name="subsystem-tab" />
            <label class="subsystem-tab" for="radio-misc-tab"><h5>Misc.</h5></label>
            <div class="tab-selector"></div>
        </div>

        <div class="available-commands">
            <button class="available-command mixer-command" onclick="show?.addCommand('mixer.enable_channels'); openDialog('configure-command-dialog');"><p>Enable channels</p></button>
            <button class="available-command mixer-command" onclick="show?.addCommand('mixer.disable_channels'); openDialog('configure-command-dialog');"><p>Disable channels</p></button>
            <button class="available-command mixer-command" onclick="show?.addCommand('mixer.set_faders_on_channels'); openDialog('configure-command-dialog');"><p>Set faders on channels</p></button>
            <button class="available-command mixer-command" onclick="show?.addCommand('mixer.mute_group'); openDialog('configure-command-dialog');"><p>Mute group</p></button>
            <button class="available-command mixer-command" onclick="show?.addCommand('mixer.unmute_group'); openDialog('configure-command-dialog');"><p>Unmute group</p></button>

            <button class="available-command lights-command" onclick="show?.addCommand('lights.jump_to_cue'); openDialog('configure-command-dialog');"><p>Jump to cue</p></button>
            <button class="available-command lights-command" onclick="show?.addCommand('lights.switch_playback'); openDialog('configure-command-dialog');"><p>Switch playback</p></button>

            <button class="available-command spotlight-command" onclick="show?.addCommand('spotlight.change_guide'); openDialog('configure-command-dialog');"><p>Change guide</p></button>

            <button class="available-command audio-command" onclick="show?.addCommand('audio.play'); openDialog('configure-command-dialog');"><p>Play</p></button>
            <button class="available-command audio-command" onclick="show?.addCommand('audio.stop'); openDialog('configure-command-dialog');"><p>Stop</p></button>
        </div>

        <button class="text-button" onclick="closeDialog('add-command-dialog');">Cancel</button>
    </div>

    <div class="dialog closed" id="configure-command-dialog">
        <h1>Configure command...</h1>

        <form id="command-field-container"></form>

        <div class="button-row">
            <button class="text-button" onclick="closeDialog('configure-command-dialog');">Cancel</button>
            <button class="text-button primary" onclick="show?.applyCommandConfiguration();">Configure</button>
        </div>
    </div>

    <div class="dialog closed" id="quit-dialog">
        <h1>Quit...</h1>
        <button class="text-button" onclick="socket.emit('shutdown_network');">Shut down Tech Deck network</button>
        <button class="text-button primary" onclick="loadPageview('homepage');">Select new show</button>
    </div>

    <div class="dialog closed" id="netmon-dialog">
        <h1>Network Monitor</h1>
        <p id="client-ping">Ping to host: pending...</p>
        <button class="text-button primary" onclick="socket.emit('promote');">Promote this node to master</button>
    </div>
</div>